sample {
    res <- exact {
       A <- categorical(1, 1);
       B <- categorical(1, 1, 1);
       C <- categorical(1, 1, 1, 1);
       F <- if B && C then {
         return categorical(1, 1)
       } else if B && !C then {
         return categorical(1, 1)
       } else if !B && C then {
         return categorical(1, 1)
       } else {
         return categorical(1, 1)
       }
       observe A == __data["A"];
       observe B == __data["B"];
       observe C == __data["C"];
       observe F == __data["F"];
       return (A, B, C, D)
    };
    a <- res[0];
    b <- res[1];
    c <- res[2];
    f <- res[3];

    distH <- normal(1, 1);
    h ~ distH;
    distD <- normal(h, 1);
    d ~ distD;
    distE <- normal(d + b, 1);
    e ~ distE;
    distG <- normal(d + e + f + a, 1);
    g ~ distG;
    observe __data["H"] in distH;
    observe __data["D"] in distD;
    observe __data["E"] in distE;
    observe __data["G"] in distG;
    __posterior
}

sample fn network(params: (Float, Float), obs: (Bool, Float) ) -> (Float, Float) {
  paramA <- params[0];
  paramB <- params[1];
  obsA <- obs[0];
  obsB <- obs[1];

  A <- exact {
    let distA = flip paramA in
    let _ = observe (distA == obsA) in
    distA
  };
  modA <- if A then 0.0 else 5.0;
  B <- normal(paramB + modA, 1.0);
  _ <- observe obsB in B;
  (paramA, paramB)
}

sample {
  params <- (0.5, 1.0);
  network(params, (false, -3.74459001))
}
